- page_heading current_group.property_name
.row
  .col-md-12
  = link_to group_properties_path(current_group), :class => "btn btn-default" do
    = icon 'arrow-left'
  - if can_see? :manage, @property
    .pull-right
      = link_to edit_group_property_path(current_group, @property), :class => "btn btn-default", :rel => "tooltip", :title => "Edit #{@property.name}", :data => {:toggle => "tooltip", :animation => "true"} do
        = icon 'edit'
%h1
  = "#{current_group.property_name} : "
  = @property.name
  -if @property.creator
    %span.small.pull-right
      Set by
      = @property.creator.name
.row{:style => "margin: 15px;"}
  #analysis-container.col-md-6.border
    .row
      .col-md-12
        #analysis
          %h3 Quick Analysis
        %form.form
          .row
            .col-md-12
              .form-group
                %label{:for => "property-search-field"} Add #{current_group.property_name.pluralize} to compare with #{@property.name} values
                %input#property-search-field.form-control{:autocomplete => "off", :placeholder => "Loading...", :type => "text"}
    .row
      .col-md-6
        %label.control-label
          Selected Lings (
          %a#remove-items{:href => "#"} Clean
          )
        .controls
          %ul#selected-props
      #compare-buttons.col-md-6.search-buttons
        %a#cross-prop.btn.btn-default.btn-block{:disabled => "disabled", :href => "#Search"}
          =icon 'search', 'Cross Properties'
        %a#antecedent-impl.btn.btn-default.btn-block{:disabled => "disabled", :href => "#Search"}
          = icon 'search', 'Implication Antecedent'
        %a#consequent-impl.btn.btn-default.btn-block{:disabled => "disabled", :href => "#Search"}
          = icon 'search', 'Implication Consequent'
  .col-md-6
    // Nav tabs
    %ul.nav.nav-tabs.pull-right
      %li.active
        %a{:href => '#details', :data => {:toggle => "tab"}} Overview
      %li
        %a{:href => "#sureness", :data => {:toggle => "tab"}} Sureness Map
      %li
        %a#mapButton{:href => "#map", :data => {:toggle => "tab"}} View on Map
    // Tab panes
    .tab-content
      .tab-pane.active#details{:data => {:id => @property.id, :depth => @property.depth,:name => @property.name }}
        .tabbed-pane
          %table.show-table.table.table-bordered.table-striped.table-hover
            %tr
              %td
                %b= current_group.category_name
                \:
              %td= link_to @property.category.name, [current_group, @property.category]
            %td
              %b Values set:
            %td= @all_values
      .tab-pane#map
        .tabbed-pane
          #property-map
      .tab-pane#sureness
        .tabbed-pane
          #sureness-map
            %p TODO:
            %p Here will appear a "sureness" heatmap

- if @property.description.present? && @property.description != ""
  .row
    #accordion.panel-group
      .panel.panel-default
        .panel-heading
          %h4.panel-title
            %a{:href => "#description", :data => {:toggle => "collapse", :parent => "#accordion"}}
              Description
              %span.small.pull-right (click to toggle)
        #description.panel-collapse.collapse
          .panel-body.text-justify
            = @property.description.html_safe

.row
  #pagination_table
    %h3= current_group.lings_property_name.pluralize
    #pagination_top.apple_pagination
      / render page links in the view:
      = alphabetical_paginate @params
    %table.show-table.table.table-bordered.table-striped.table-hover
      %thead
        %th= current_group.ling_name_for_depth(@property.depth)
        %th= current_group.lings_property_name
        %th Creator
      %tbody
        - @values.each do |value|
          %tr
            %td= link_to value.ling.name, [current_group, value.ling]
            %td= link_to value.value, [current_group, value]
            %td= (value.creator ? value.creator.name : "")
    #pagination_bottom.apple_pagination
      / render page links in the view:
      = alphabetical_paginate @params

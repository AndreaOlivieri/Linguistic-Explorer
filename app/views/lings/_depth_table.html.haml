#pagination_top.apple_pagination
  = alphabetical_paginate paginate_params
%table.show-table.table.table-bordered.table-striped.table-hover
  %tr
    %th Name
    - if current_group.has_depth?
      %th= current_group.ling_name_for_depth(depth - 1)
    - current_group.ling_storable_keys.each do |key|
      %th= key.humanize
    %th.col-md-2 Completeness
    - if can? :destroy, lings
      %th
  - lings.each do |ling|
    %tr
      %td= link_to ling.name, [current_group, ling]
      - if current_group.has_depth?
        %td= (link_to ling.parent.name, group_ling_path(current_group, ling.parent)) if ling.parent
      - current_group.ling_storable_keys.each do |key|
        %td= ling.stored_value(key)
      %td
        %center
          - percentage = "#{ling.info}%"
          .progress.progress-striped.progress-danger{:style => "width: 200px; margin: 10px 20px 5px 30px;"}
            .bar{:style => "width: #{ling.info}%;"}
              %p#nbrs{:style => "text-align: center;"}
                = ling.info
                \%
      - if can? :destroy, ling
        %td
          = link_to 'Destroy', [current_group, ling], :class => 'btn btn-danger btn-small', :confirm => 'Are you sure?', :method => :delete
#pagination_bottom.apple_pagination
  = alphabetical_paginate paginate_params
